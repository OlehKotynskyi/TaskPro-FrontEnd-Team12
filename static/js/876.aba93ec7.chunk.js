"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[876],{876:(e,s,a)=>{a.r(s),a.d(s,{default:()=>O});var r=a(1087),i=a(7689),t=a(2791),l=a(1134),o=a(4695),n=a(8007);const c="LoginForm_form__gPEx5",m="LoginForm_formWrap__rwknX",d="LoginForm_formWrapImput__9GZUV",u="LoginForm_formImput__rOtvQ",_="LoginForm_error__012y+",h="LoginForm_formBtn__HRL1P",p="LoginForm_errors__26OED",g="LoginForm_icon__TSGuZ";var x=a(7609),j=a(5822),w=a(4420),v=a(2376),y=a(270),N=a(184);const f=()=>(0,N.jsx)("div",{className:y.Z.containerBtn,children:(0,N.jsx)(v.g4,{visible:!0,height:"20",width:"20",color:"#4fa94d",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""})});var F=a(5218);const b=n.Ry().shape({email:n.Z_().email("Invalid email").required("Email is required"),password:n.Z_().min(8,"Password must be at least 8 characters").required("Password is required")}),P=()=>{const[e,s]=(0,t.useState)(!1),a=(0,i.s0)(),r=(0,w.I0)(),[n,v]=(0,t.useState)(!1),{register:y,handleSubmit:P,setError:Z,clearErrors:R,formState:{errors:L}}=(0,l.cI)({resolver:(0,o.X)(b)});return(0,N.jsxs)("form",{className:c,onSubmit:P((async e=>{try{v(!0),await r((0,j.Ib)(e)).unwrap(),F.ZP.success("Login successful!"),a("/home")}catch(s){console.error("Failed to log in:",s),Z("server",{type:"manual",message:"Failed to log in. Please try again."}),v(!1)}finally{v(!1)}})),noValidate:!0,children:[(0,N.jsxs)("div",{className:m,children:[(0,N.jsxs)("div",{className:d,children:[(0,N.jsx)("input",{className:"".concat(u," ").concat(L.email?_:""),type:"email",name:"email",placeholder:"Enter your email",...y("email",{onBlur:e=>{const s=e.target.value;if(!s)return void R("email");b.fields.email.isValidSync(s)?R("email"):Z("email",{type:"manual",message:"Invalid email"})}})}),L.email&&(0,N.jsx)("p",{className:p,children:L.email.message})]}),(0,N.jsxs)("div",{className:d,children:[(0,N.jsx)("input",{className:"".concat(u," ").concat(L.password?_:""),type:e?"text":"password",...y("password"),placeholder:"Create a password"}),(0,N.jsx)("svg",{className:g,width:"20",height:"20",onClick:()=>{s((e=>!e))},children:(0,N.jsx)("use",{xlinkHref:"".concat(x.Z,"#").concat(e?"icon-eye":"icon-eye-off")})}),L.password&&(0,N.jsx)("p",{className:p,children:L.password.message})]})]}),(0,N.jsx)("button",{className:h,type:"submit",disabled:n,children:n?(0,N.jsx)(f,{}):"Log In Now"})]})},Z="RegisterForm_form__Tv43W",R="RegisterForm_formWrap__-xhtQ",L="RegisterForm_formWrapImput__nRAoZ",I="RegisterForm_formImput__VXz-r",S="RegisterForm_error__yDHjz",k="RegisterForm_formBtn__uyMmA",A="RegisterForm_errors__HjC8F",E="RegisterForm_icon__Xn6st",q=n.Ry().shape({name:n.Z_().min(2,"Name must be at least 2 characters").required("Name is required"),email:n.Z_().email("Invalid email").required("Email is required"),password:n.Z_().min(8,"Password must be at least 8 characters").required("Password is required")}),C=()=>{const[e,s]=(0,t.useState)(!1),a=(0,i.s0)(),r=(0,w.I0)(),[n,c]=(0,t.useState)(!1),{register:m,handleSubmit:d,setError:u,clearErrors:_,formState:{errors:h}}=(0,l.cI)({resolver:(0,o.X)(q)});return(0,N.jsxs)("form",{className:Z,onSubmit:d((async e=>{try{c(!0),await r((0,j.z2)(e)).unwrap(),F.ZP.success("Registration successful!"),a("/home")}catch(s){s.response&&409===s.response.status?F.ZP.error("User already registered. Please log in."):F.ZP.error("Failed to register. Please try again."),c(!1)}finally{c(!1)}})),noValidate:!0,children:[(0,N.jsxs)("div",{className:R,children:[(0,N.jsxs)("div",{className:L,children:[(0,N.jsx)("input",{className:"".concat(I," ").concat(h.name?S:""),placeholder:"Enter your name",type:"text",name:"name",...m("name")}),h.name&&(0,N.jsx)("p",{className:A,children:h.name.message})]}),(0,N.jsxs)("div",{className:L,children:[(0,N.jsx)("input",{className:"".concat(I," ").concat(h.email?S:""),type:"email",name:"email",placeholder:"Enter your email",...m("email",{onBlur:e=>{const s=e.target.value;if(!s)return void _("email");q.fields.email.isValidSync(s)?_("email"):u("email",{type:"manual",message:"Invalid email"})}})}),h.email&&(0,N.jsx)("p",{className:A,children:h.email.message})]}),(0,N.jsxs)("div",{className:L,children:[(0,N.jsx)("input",{className:"".concat(I," ").concat(h.password?S:""),type:e?"text":"password",...m("password"),placeholder:"Create a password"}),(0,N.jsx)("svg",{className:E,width:"20",height:"20",onClick:()=>{s((e=>!e))},children:(0,N.jsx)("use",{xlinkHref:"".concat(x.Z,"#").concat(e?"icon-eye":"icon-eye-off")})}),h.password&&(0,N.jsx)("p",{className:A,children:h.password.message})]})]}),(0,N.jsx)("button",{className:k,type:"submit",disabled:n,children:n?(0,N.jsx)(f,{}):"Register Now"})]})};var W=a(3733);const H="AuthPage_section__RGWYc",V="AuthPage_wrapper__j9zCo",z="AuthPage_nav__RtCht",B="AuthPage_link__HQ0pz",X="AuthPage_activeLink__9sdnw",O=()=>(0,N.jsx)("section",{className:H,children:(0,N.jsxs)("div",{className:V,children:[(0,N.jsxs)("nav",{className:z,children:[(0,N.jsx)(r.OL,{className:e=>{let{isActive:s}=e;return(0,W.Z)(B,{[X]:s})},to:"/auth/register",children:"Register"}),(0,N.jsx)(r.OL,{className:e=>{let{isActive:s}=e;return(0,W.Z)(B,{[X]:s})},to:"/auth/login",children:"Log In"})]}),(0,N.jsxs)(i.Z5,{children:[(0,N.jsx)(i.AW,{path:"login",element:(0,N.jsx)(P,{})}),(0,N.jsx)(i.AW,{path:"register",element:(0,N.jsx)(C,{})})]})]})})}}]);
//# sourceMappingURL=876.aba93ec7.chunk.js.map