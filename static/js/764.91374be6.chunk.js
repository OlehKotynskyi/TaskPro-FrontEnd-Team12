"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[764],{2643:(e,s,a)=>{a.d(s,{Q:()=>l});var r=a(2376),i=a(270),t=a(184);const l=()=>(0,t.jsx)("div",{className:i.Z.containerBtn,children:(0,t.jsx)(r.g4,{visible:!0,height:"20",width:"20",color:"#4fa94d",radius:"9",ariaLabel:"three-dots-loading",wrapperStyle:{},wrapperClass:""})})},3764:(e,s,a)=>{a.r(s),a.d(s,{default:()=>z});var r=a(1087),i=a(7689),t=a(2791),l=a(1134),o=a(4695),n=a(8007);const c="LoginForm_form__gPEx5",m="LoginForm_formWrap__rwknX",d="LoginForm_formWrapImput__9GZUV",u="LoginForm_formImput__rOtvQ",_="LoginForm_error__012y+",h="LoginForm_formBtn__HRL1P",p="LoginForm_errors__26OED",g="LoginForm_icon__TSGuZ";var x=a(7609),j=a(5822),w=a(4420),v=a(2643),y=a(5218),N=a(184);const f=n.Ry().shape({email:n.Z_().email("Invalid email").required("Email is required"),password:n.Z_().min(8,"Password must be at least 8 characters").required("Password is required")}),F=()=>{const[e,s]=(0,t.useState)(!1),a=(0,i.s0)(),r=(0,w.I0)(),[n,F]=(0,t.useState)(!1),{register:b,handleSubmit:P,setError:Z,clearErrors:R,formState:{errors:L}}=(0,l.cI)({resolver:(0,o.X)(f)});return(0,N.jsxs)("form",{className:c,onSubmit:P((async e=>{try{F(!0),await r((0,j.Ib)(e)).unwrap(),y.ZP.success("Login successful!"),a("/home")}catch(s){console.error("Failed to log in:",s),Z("server",{type:"manual",message:"Failed to log in. Please try again."}),F(!1)}finally{F(!1)}})),noValidate:!0,children:[(0,N.jsxs)("div",{className:m,children:[(0,N.jsxs)("div",{className:d,children:[(0,N.jsx)("input",{className:"".concat(u," ").concat(L.email?_:""),type:"email",name:"email",placeholder:"Enter your email",...b("email",{onBlur:e=>{const s=e.target.value;if(!s)return void R("email");f.fields.email.isValidSync(s)?R("email"):Z("email",{type:"manual",message:"Invalid email"})}})}),L.email&&(0,N.jsx)("p",{className:p,children:L.email.message})]}),(0,N.jsxs)("div",{className:d,children:[(0,N.jsx)("input",{className:"".concat(u," ").concat(L.password?_:""),type:e?"text":"password",...b("password"),placeholder:"Create a password"}),(0,N.jsx)("svg",{className:g,width:"20",height:"20",onClick:()=>{s((e=>!e))},children:(0,N.jsx)("use",{xlinkHref:"".concat(x.Z,"#").concat(e?"icon-eye":"icon-eye-off")})}),L.password&&(0,N.jsx)("p",{className:p,children:L.password.message})]})]}),(0,N.jsx)("button",{className:h,type:"submit",disabled:n,children:n?(0,N.jsx)(v.Q,{}):"Log In Now"})]})},b="RegisterForm_form__Tv43W",P="RegisterForm_formWrap__-xhtQ",Z="RegisterForm_formWrapImput__nRAoZ",R="RegisterForm_formImput__VXz-r",L="RegisterForm_error__yDHjz",I="RegisterForm_formBtn__uyMmA",S="RegisterForm_errors__HjC8F",k="RegisterForm_icon__Xn6st",A=n.Ry().shape({name:n.Z_().min(2,"Name must be at least 2 characters").required("Name is required"),email:n.Z_().email("Invalid email").required("Email is required"),password:n.Z_().min(8,"Password must be at least 8 characters").required("Password is required")}),E=()=>{const[e,s]=(0,t.useState)(!1),a=(0,i.s0)(),r=(0,w.I0)(),[n,c]=(0,t.useState)(!1),{register:m,handleSubmit:d,setError:u,clearErrors:_,formState:{errors:h}}=(0,l.cI)({resolver:(0,o.X)(A)});return(0,N.jsxs)("form",{className:b,onSubmit:d((async e=>{try{c(!0),await r((0,j.z2)(e)).unwrap(),y.ZP.success("Registration successful!"),a("/home")}catch(s){s.response&&409===s.response.status?y.ZP.error("User already registered. Please log in."):y.ZP.error("Failed to register. Please try again."),c(!1)}finally{c(!1)}})),noValidate:!0,children:[(0,N.jsxs)("div",{className:P,children:[(0,N.jsxs)("div",{className:Z,children:[(0,N.jsx)("input",{className:"".concat(R," ").concat(h.name?L:""),placeholder:"Enter your name",type:"text",name:"name",...m("name")}),h.name&&(0,N.jsx)("p",{className:S,children:h.name.message})]}),(0,N.jsxs)("div",{className:Z,children:[(0,N.jsx)("input",{className:"".concat(R," ").concat(h.email?L:""),type:"email",name:"email",placeholder:"Enter your email",...m("email",{onBlur:e=>{const s=e.target.value;if(!s)return void _("email");A.fields.email.isValidSync(s)?_("email"):u("email",{type:"manual",message:"Invalid email"})}})}),h.email&&(0,N.jsx)("p",{className:S,children:h.email.message})]}),(0,N.jsxs)("div",{className:Z,children:[(0,N.jsx)("input",{className:"".concat(R," ").concat(h.password?L:""),type:e?"text":"password",...m("password"),placeholder:"Create a password"}),(0,N.jsx)("svg",{className:k,width:"20",height:"20",onClick:()=>{s((e=>!e))},children:(0,N.jsx)("use",{xlinkHref:"".concat(x.Z,"#").concat(e?"icon-eye":"icon-eye-off")})}),h.password&&(0,N.jsx)("p",{className:S,children:h.password.message})]})]}),(0,N.jsx)("button",{className:I,type:"submit",disabled:n,children:n?(0,N.jsx)(v.Q,{}):"Register Now"})]})};var q=a(3733);const C="AuthPage_section__RGWYc",W="AuthPage_wrapper__j9zCo",H="AuthPage_nav__RtCht",Q="AuthPage_link__HQ0pz",V="AuthPage_activeLink__9sdnw",z=()=>(0,N.jsx)("section",{className:C,children:(0,N.jsxs)("div",{className:W,children:[(0,N.jsxs)("nav",{className:H,children:[(0,N.jsx)(r.OL,{className:e=>{let{isActive:s}=e;return(0,q.Z)(Q,{[V]:s})},to:"/auth/register",children:"Register"}),(0,N.jsx)(r.OL,{className:e=>{let{isActive:s}=e;return(0,q.Z)(Q,{[V]:s})},to:"/auth/login",children:"Log In"})]}),(0,N.jsxs)(i.Z5,{children:[(0,N.jsx)(i.AW,{path:"login",element:(0,N.jsx)(F,{})}),(0,N.jsx)(i.AW,{path:"register",element:(0,N.jsx)(E,{})})]})]})})}}]);
//# sourceMappingURL=764.91374be6.chunk.js.map